<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Customer Success Plan</title>

    <!-- Inter font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "ui-sans-serif", "system-ui", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- html2canvas and jsPDF for PDF export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNa5Qwe7YvGq7Vh1VuvQ7GkG1B4mR6PZyGm5o3jYw7x8h9onclImb8sPzIQuCUKXfW7kWl9b3bB9mRDP1cQY2w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-/ynNG0YgQG1w0rOa5S/xT3xGvS3B3mUbbggrZ8S2rC2H/9J5d0Kx2Hk9a1c5hD+oK2GQkXq8pN9VQq0m8eK2Yw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body class="h-full bg-slate-50 font-sans text-slate-800">
    <!-- Header -->
    <header class="w-full bg-gradient-to-r from-cyan-800 to-emerald-600 text-white">
      <div class="mx-auto max-w-screen-xl px-6 py-8">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-3xl font-semibold tracking-tight">Customer Success Plan</h1>
            <p id="lastUpdated" class="mt-1 text-sm opacity-90">Last updated: â€”</p>
          </div>
          <div class="flex gap-3">
            <button id="generatePdfBtn" class="inline-flex items-center gap-2 rounded-md bg-cyan-600 px-4 py-2 text-sm font-medium text-white shadow hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400">
              <i class="ph ph-file-pdf"></i>
              Generate PDF
            </button>
          </div>
        </div>
      </div>
    </header>

    <main id="planRoot" class="mx-auto max-w-screen-xl px-6 py-8">
      <!-- Top-level sections: Mission Summary and Mission Goals -->
      <section id="missionSummarySection" class="mb-6">
        <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold">Mission Summary</h2>
          </div>
          <div class="mt-3">
            <textarea id="missionSummary" class="w-full rounded-md border border-slate-300 bg-slate-100 p-3 text-sm leading-relaxed shadow-sm resize" rows="4" placeholder="Describe the overall mission..."></textarea>
          </div>
        </div>
      </section>

      <section id="missionGoalsSection" class="mb-8">
        <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
          <div class="mb-3 flex items-center justify-between">
            <h2 class="text-lg font-semibold">Mission Goals</h2>
            <div class="flex items-center gap-2">
              <button id="addGoalBtn" class="inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                <i class="ph ph-plus"></i>
                Add Goal
              </button>
            </div>
          </div>
          <div id="goalsList" class="grid grid-cols-1 gap-4 md:grid-cols-2"></div>
        </div>
      </section>

      <!-- Main content grid: Left (wider) and Right (sidebar) -->
      <section class="grid grid-cols-1 gap-6 lg:grid-cols-3">
        <!-- Left column (span 2) -->
        <div class="lg:col-span-2 space-y-6">
          <!-- Value Realized -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <div class="mb-3 flex items-center justify-between">
              <h2 class="text-lg font-semibold">Value Realized</h2>
              <button id="addValueBtn" class="inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                <i class="ph ph-plus"></i>
                Add Value
              </button>
            </div>
            <div id="valueRealizedList" class="grid grid-cols-1 gap-4 md:grid-cols-2"></div>
          </div>

          <!-- Current Objectives -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <div class="mb-3 flex items-center justify-between">
              <h2 class="text-lg font-semibold">Current Objectives</h2>
              <button id="addObjectiveBtn" class="inline-flex items-center gap-2 rounded-md bg-cyan-600 px-3 py-2 text-sm font-medium text-white shadow hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-400">
                <i class="ph ph-plus"></i>
                Add Objective
              </button>
            </div>
            <div id="currentObjectivesList" class="grid grid-cols-1 gap-4 md:grid-cols-2"></div>
          </div>

          <!-- Past Objectives Achieved -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <div class="mb-3 flex items-center justify-between">
              <h2 class="text-lg font-semibold">Past Objectives Achieved</h2>
            </div>
            <div id="pastObjectivesList" class="grid grid-cols-1 gap-4 md:grid-cols-2"></div>
          </div>
        </div>

        <!-- Right column (sidebar) -->
        <aside class="space-y-6">
          <!-- Plan Details -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <h2 class="text-lg font-semibold">Plan Details</h2>
            <div class="mt-4 space-y-3">
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Account Name</label>
                <input id="accountName" type="text" class="w-full rounded-md border border-slate-300 bg-white p-2 text-sm shadow-sm" placeholder="Acme Corp" />
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">CSM Name</label>
                <input id="csmName" type="text" class="w-full rounded-md border border-slate-300 bg-white p-2 text-sm shadow-sm" placeholder="Jane Doe" />
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Renewal Date</label>
                <input id="renewalDate" type="date" class="w-full rounded-md border border-slate-300 bg-white p-2 text-sm shadow-sm" />
              </div>
            </div>
          </div>

          <!-- Find Similar Objectives -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <h2 class="text-lg font-semibold">Find Similar Objectives</h2>
            <div class="mt-4 space-y-3">
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Industry</label>
                <select id="filterIndustry" class="w-full rounded-md border border-emerald-200 bg-emerald-50 p-2 text-sm shadow-sm">
                  <option value="">Select industry</option>
                  <option>Technology</option>
                  <option>Finance</option>
                  <option>Healthcare</option>
                  <option>Retail</option>
                </select>
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Segment</label>
                <select id="filterSegment" class="w-full rounded-md border border-emerald-200 bg-emerald-50 p-2 text-sm shadow-sm">
                  <option value="">Select segment</option>
                  <option>SMB</option>
                  <option>Mid-Market</option>
                  <option>Enterprise</option>
                </select>
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Products Owned</label>
                <select id="filterProducts" class="w-full rounded-md border border-emerald-200 bg-emerald-50 p-2 text-sm shadow-sm">
                  <option value="">Select product</option>
                  <option value="AI">AI</option>
                  <option value="Analytics">Analytics</option>
                  <option value="Messaging">Messaging</option>
                  <option value="Automation">Automation</option>
                </select>
              </div>
              <div id="suggestedKpis" class="hidden rounded-md border border-emerald-200 bg-emerald-50 p-3 text-sm">
                <div class="mb-1 font-medium text-emerald-900">Suggested KPIs</div>
                <ul id="suggestedKpisList" class="list-disc pl-5 text-emerald-900"></ul>
              </div>
            </div>
          </div>

          <!-- Key Stakeholders -->
          <div class="rounded-lg border border-slate-200 bg-white p-5 shadow-sm">
            <div class="mb-3 flex items-center justify-between">
              <h2 class="text-lg font-semibold">Key Stakeholders</h2>
            </div>
            <div class="space-y-3">
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Select Stakeholder</label>
                <select id="stakeholderSelect" class="w-full rounded-md border border-slate-300 bg-white p-2 text-sm shadow-sm">
                  <!-- options injected by JS -->
                </select>
              </div>
              <div class="flex justify-end">
                <button id="addStakeholderBtn" class="inline-flex items-center gap-2 rounded-md bg-emerald-600 px-3 py-2 text-sm font-medium text-white shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                  <i class="ph ph-user-plus"></i>
                  Add
                </button>
              </div>
              <div id="stakeholdersList" class="grid grid-cols-1 gap-3"></div>
            </div>
          </div>
        </aside>
      </section>
    </main>

    <!-- Modal Root -->
    <div id="modalRoot" class="fixed inset-0 z-50 hidden items-center justify-center">
      <div class="absolute inset-0 bg-slate-900/50"></div>
      <div class="relative z-10 w-full max-w-2xl rounded-lg border border-slate-200 bg-white p-0 shadow-xl">
        <div id="modalContent"></div>
      </div>
    </div>

    <!-- Toasts -->
    <div id="toastRoot" class="pointer-events-none fixed inset-x-0 top-4 z-50 flex justify-center px-4"></div>

    <script src="/app.js"></script>
  </body>
</html>
